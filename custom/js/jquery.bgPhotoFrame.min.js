!function($){$.fn.bgPhotoFrame=function(setting){function userAgent(){var e,n=navigator.userAgent;return e=n.indexOf("iPhone")>-1||n.indexOf("iPad")>-1||n.indexOf("iPod")>-1?"ios":n.indexOf("Android")>-1?"android":"pc"}function removeUnit(e){return parseInt(e.replace(/([a-z]+)/,""))}function resizeImages(_num,animation,force,callback){var windowWidth=$(window).width(),windowHeight=$(window).height(),windowRatio=windowWidth/windowHeight,_li=element.find("li").eq(_num),_img,arrow;if(force?arrow=!0:"none"!=_li.css("display")&&(arrow=!0),arrow&&_num in imgInfo){_img=_li.find("img");var imgRatio=imgInfo[_num].ratio,baseWidth=imgInfo[_num].width,baseHeight=imgInfo[_num].height,imgWidth,imgHeight,marginTop,marginLeft;_img.stop(!0,!1),"background"==currentMode?windowRatio>imgRatio?(imgWidth=windowWidth,imgHeight=parseInt(baseHeight*(imgWidth/baseWidth)),marginTop=-(imgHeight-windowHeight)/2,marginLeft=0):(imgHeight=windowHeight,imgWidth=parseInt(baseWidth*(imgHeight/baseHeight)),marginTop=0,marginLeft=-(imgWidth-windowWidth)/2):"photoframe"==currentMode&&(windowRatio>=imgRatio?(imgHeight=windowHeight,imgWidth=parseInt(baseWidth*(imgHeight/baseHeight)),marginLeft=(windowWidth-imgWidth)/2,marginTop=0):(imgWidth=windowWidth,imgHeight=parseInt(baseHeight*(imgWidth/baseWidth)),marginLeft=0,marginTop=(windowHeight-imgHeight)/2)),imgWidth=parseInt(imgWidth),imgHeight=parseInt(imgHeight),marginTop=parseInt(marginTop),marginLeft=parseInt(marginLeft),animation?_img.animate({width:imgWidth+"px",height:imgHeight+"px",marginTop:marginTop+"px",marginLeft:marginLeft+"px"},photoAnimeTime,easing,function(){callback&&eval(callback+"()")}):(_img.width(imgWidth),_img.height(imgHeight),_img.css({marginTop:marginTop+"px",marginLeft:marginLeft+"px"}))}}function stopResizeImages(){for(var e=0;e<element.find("li").length;e++){var n=element.find("li").eq(_num),t=n.find("img");t.stop(!1,!0)}}function initMask(){wrapper.after("<div id='images-mask'></div>"),maskElement=$("#images-mask"),maskElement.css({background:"rgba("+setting.maskColor+","+setting.maskColor+","+setting.maskColor+","+setting.maskOpacity+")"})}function resizeMask(){maskElement.css({width:$(window).width()+"px",height:$(window).height()+"px"})}function photoFrameMode(){currentMode="photoframe",hideContents()}function backgroundMode(){currentMode="background",modeChangeAnimation(mode)}function showContents(){$(setting.contents).fadeIn(contentFadeTime,function(){contentsAnimationEnd()})}function hideContents(){$(setting.contents).fadeOut(contentFadeTime,function(){contentsAnimationEnd()})}function stopContentsAnimation(){$(setting.contents).stop(!1,!0)}function contentsAnimationEnd(){"photoframe"==currentMode?modeChangeAnimation():"background"==currentMode&&command("modeChangeEnd")}function modeChangeAnimation(e){element.find("li").eq(current).find("img");resizeImages(current,!0,!0,"EndModeChangeAnimation")}function EndModeChangeAnimation(){"photoframe"==currentMode||"background"==currentMode&&showContents(),changeToggleBtnIcon(),command("modeChangeEnd")}function stopModeChangeAnimation(){stopContentsAnimation()}function initToggle(){controls.append(toggleButtonSrc),toggleButton=$("#"+toggleBtnId),"pc"==device?toggleButton.click(function(){return command("modeChange"),!1}):toggleButton.bind("touchstart",function(e){command("modeChange"),e.preventDefault()})}function changeToggleBtnIcon(){$("#"+toggleBtnId).find("span").removeClass(iconClassPhotoFrame),$("#"+toggleBtnId).find("span").removeClass(iconClassBlog),"background"==currentMode?$("#"+toggleBtnId).find("span").addClass(iconClassPhotoFrame):"photoframe"==currentMode&&$("#"+toggleBtnId).find("span").addClass(iconClassBlog)}function initNav(){element.find("li").length&&(controls.append('<a class="'+prefix+"-btn "+navPrefix+'" id="'+navPrefix+'-prev" href="#"><span class="glyphicon glyphicon-chevron-left"></span></a>'),controls.append('<a class="'+prefix+"-btn "+navPrefix+'" id="'+navPrefix+'-next" href="#"><span class="glyphicon glyphicon-chevron-right"></span></a>'),"pc"==device?$("."+navPrefix).click(function(){return navClick($(this)),!1}):$("."+navPrefix).bind("touchstart",function(e){navClick($(this)),e.preventDefault()}),$(window).resize(function(){resizeNav()}),nav=$("."+navPrefix))}function navClick(e){if(btnEnable&&nav.hasClass("active")){var e=e.attr("id").replace(navPrefix+"-","");command("imgChange",e)}}function showNav(){nav.stop(!1,!0),nav.fadeIn(fadeTime,function(){nav.addClass("active")}),navPosition()}function hideNav(){nav.removeClass("active"),nav.stop(!1,!0),nav.fadeOut()}function stopNav(){}function resizeNav(){navPosition()}function navPosition(){var e=($(window).height()-nav.width())/2;$("#"+navPrefix+"-prev, #"+navPrefix+"-next").css({top:e+"px"})}function initThumbs(){controls.append('<a id="'+thumbBtnClass+'" class="'+prefix+'-btn" href="#"><span class="glyphicon glyphicon-th"></span></a>'),thumbBtn=$("#"+thumbBtnClass),controls.append('<div id="'+thumbPageClass+'"><div id="'+thumbPageClass+'-inner" class="clearfix"><ul></ul></div></div>'),thumbPage=$("#"+thumbPageClass+" ul");for(var e=0;e<element.find("li").length;e++){var n='<li class="'+thumbPrefix+'" id="'+prefix+"-thumb-"+e+'"><a href="#'+e+'"></a></li>';thumbPage.append(n)}"pc"==device?thumbBtn.click(function(){return toggleThumbBtn(),!1}):thumbBtn.bind("touchstart",function(e){toggleThumbBtn(),e.preventDefault()}),$("#"+thumbPageClass).bind("click",function(){return closeThumbs(),!1})}function attachThumbImage(e,n){var t=thumbPage.find("li").eq(e).find("a"),i=new Image;i.src=n,imgWidth=imgInfo[e].width,imgHeight=imgInfo[e].height,imgRatio=imgInfo[e].ratio,thumbSize=thumbPage.find("li").width();var a,r,o=document.createElement("canvas"),s=o.getContext("2d"),m=0,d=0;imgRatio>1?(r=thumbSize,a=thumbSize*imgRatio,m=(thumbSize-thumbSize*imgRatio)/2):(a=thumbSize,r=imgHeight*(thumbSize/a),d=(thumbSize-thumbSize/imgRatio)/2),s.drawImage(i,m,d,a,r),t.append(o),t.click(function(){return ThumbClick(t),!1})}function resizeThumbs(){var e=$(window).width(),n=($(window).height(),.02*$(window).width());$("#"+thumbPageClass+"-inner").css({width:e+"px",padding:n+"px "+n+"px"});var t=thumbPage.find("li").width(),i=removeUnit(thumbPage.find("li").css("margin")),a=($("#"+thumbPageClass+" ul").width()-(t+2*i)*parseInt($("#"+thumbPageClass+" ul").width()/(2*i+t)))/2;$("#"+thumbPageClass+" ul").css({marginLeft:a+"px"})}function showThumbBtn(){thumbBtn.stop(!1,!0),thumbBtn.fadeIn(fadeTime)}function hideThumbBtn(){thumbBtn.stop(!1,!0),thumbBtn.fadeOut(fadeTime)}function toggleThumbBtn(){thumbBtn.toggleClass("active"),toggleThumbs()}function toggleThumbs(){thumbAnimationStop(),thumbBtn.hasClass("active")?openThumbs():closeThumbs()}function thumbAnimationStop(){$("#"+thumbPageClass).stop(!1,!0)}function openThumbs(){$("#"+thumbPageClass).show(),$("#"+thumbPageClass).animate({width:"100%",height:"100%"},thumbTime,easing)}function closeThumbs(){$("#"+thumbPageClass).animate({width:"0%",height:"0%"},thumbTime,easing,function(){$("#"+thumbPageClass).hide()}),thumbBtn.removeClass("active")}function ThumbClick(e){var n=e.attr("href").replace("#","");command("imgChange",n),closeThumbs()}function initTimer(){if(setting.autoChange&&element.find("li").length){var e='<a id="'+timerBtnId+'" class="'+prefix+'-btn" href="#"><span class="glyphicon glyphicon-refresh '+prefix+'-blur-text"></span><span class="glyphicon glyphicon-refresh '+prefix+'-text"></span></a>';controls.append(e),timerBtn=$("#"+timerBtnId),setting.autoChange&&element.find("li").length&&timerBtn.addClass("on"),"pc"==device?timerBtn.click(function(){return toggleTimer(),!1}):timerBtn.bind("touchend",function(e){toggleTimer(),e.preventDefault()})}}function toggleTimer(){timerBtn.toggleClass("on"),timerBtn.hasClass("on")?timerOn():timerOff()}function timerOn(){timerBtn.addClass("on"),timer.setTimer()}function timerOff(){timerBtn.removeClass("on"),timer.disableTimer()}function enableTimer(){timerArr.push(setTimeout(function(){timerChange()},setting.autoTimer))}function timerChange(){command("timerChange")}function showTimer(){timerBtn.stop(!1,!0),timerBtn.fadeIn(),timerBtn.addClass("active")}function hideTimer(){timerBtn.removeClass("active"),timerBtn.stop(!1,!0),timerBtn.fadeOut()}function setImageSize(e){var n=element.find("img").eq(e),t=(n.attr("src"),getImageTrueSize(n));t.ratio=t.width/t.height,imgInfo[e].width=t.width,imgInfo[e].height=t.height,imgInfo[e].ratio=t.ratio,imgInfo[e].loaded=!0,checkLoadComplete(e)}function getImageTrueSize(e){var n=[];if(e.prop("naturalWidth"))n.width=e.prop("naturalWidth"),n.height=e.prop("naturalHeight");else{var t=new Image;t.src=e.attr("src"),n.width=t.width,n.height=t.height}return n}function checkLoadComplete(e){var n=!0;if(0==e)LoadFirstImageComplete();else for(var t=0;t<imgInfo.length;t++)if(!imgInfo[t].loaded){n=!1;break}n&&(loaded=!0,LoadComplete())}function LoadFirstImageComplete(){command("loaded")}function LoadComplete(){}function command(e,n){commandProcess[e](n)}function showInterface(){showNav(),showThumbBtn(),showTimer(),interface=!0}function hideInterface(){hideNav(),hideThumbBtn(),hideTimer(),interface=!1}function toggleInterface(){interface?hideInterface():showInterface()}function enableTimerInterface(){setting.interfaceTimer&&(maskElement.bind("click",function(){"photoframe"==currentMode&&(showInterface(),removeTimerInterface(),setTimerInterface())}),setTimerInterface())}function setTimerInterface(){setting.interfaceTimer&&interfaceTimer.push(setTimeout(function(){hideInterface()},setting.autoTimer))}function disableTimerInterface(){maskElement.unbind("click"),removeTimerInterface()}function removeTimerInterface(){for(var e=0;e<interfaceTimer.length;e++)clearTimeout(interfaceTimer[e]);interfaceTimer.length=0}function initTransition(){}function changeTransitionMode(e){transitionMode=e}function transitionStop(){"fade"==transitionMode?transitionFadeStop():"swipe"==transitionMode}function transitionFadeStop(){for(var e=element.find("li").length,n=0;e>n;n++){var t=element.find("li").eq(n);t.stop(!1,!0)}}function transitionFadeEnd(){command("transitionEnd")}function swipeLoop(e,n){var t=easing,i=swipeSpeed;removeUnit(wrapper.css("marginLeft"));i=setSpeed(e,n),setSwipePosition(e,n),setSwipeImage(e,n),wrapper.animate({marginLeft:0},i,t,function(){swipeEnd(e,n)}),swipeAnmation=!0}function setSwipePosition(e,n){var t=0,i=removeUnit(wrapper.css("marginLeft"));"current"==n?t=removeUnit(wrapper.css("marginLeft")):"next"==n?t=$(window).width()+i:"prev"==n&&(t=-$(window).width()+i),wrapper.css({marginLeft:t+"px"})}function setSwipeImage(e,n){var t=element.find("li").eq(e);command("setSwipeImage",e),t.css({display:"block",marginLeft:0}),element.find("li:not(:eq("+e+"))").css({display:"none"})}function setSpeed(e,n){var t=0,i=1,a=removeUnit(wrapper.css("marginLeft"));return t=a>=0?($(window).width()-a)*i:($(window).width()+a)*i}function swipeEnd(e,n){swipeLoopStop(),command("swipeEnd")}function swipeLoopStop(){wrapper.stop(!0,!1),swipeAnmation=!1}function swipeDown(e){"photoframe"==currentMode&&(swipeLoopStop(),swipeActive=!0,swipeDistance=0,swipeSpeed=0,setSwipePosition(current,"current"),setSwipeImage(current,"current"),swipeActiveStart=e,swipeSpeedStart=e,swipeStartMargin=removeUnit(wrapper.css("marginLeft")),swipeSpeedTimer.push(setInterval(function(){setSwipeSpeed()},swipeSpeedTimerSpan)),command("swipeDown"))}function setSwipeSpeed(){swipeSpeed=swipeSpeedStart-swipeSpeedCurrent,swipeSpeedStart=swipeSpeedCurrent}function swipeMove(e){if(swipeActive){swipeLoopStop(),swipeDistance=e-swipeActiveStart,swipeSpeedCurrent=e;var n=swipeStartMargin+swipeDistance;wrapper.css({marginLeft:n+"px"})}}function swipeUp(e){if(swipeActive){swipeLoopStop();for(var n=0;n<swipeSpeedTimer.length;n++)clearInterval(swipeSpeedTimer[n]);swipeSpeedTimer.length=0;var t="current",i=removeUnit(wrapper.css("marginLeft"));swipeSpeed=swipeSpeedStart-e,swipeSpeed>swipeSpeedLimit||-swipeSpeedLimit>swipeSpeed?t=swipeSpeed>0?"next":"prev":(i>$(window).width()/2||i<-$(window).width()/2)&&(t=0>i?"next":"prev"),t&&command("imgChange",t),command("swipeUp"),swipeDistance=0}swipeActive=!1}function initDammy(){element.after('<ul class="bg-photo-frame-dammy"></ul>'),dammyElement=$(".bg-photo-frame-dammy"),dammyElement.css({margin:"0px",padding:"0px",position:"absolute",display:"block",width:"100%"})}function dammyShow(e,n,t){command("setDammy",e);var i,a=element.find("li").eq(e).find("img"),r=a.width(),o=a.height(),s=a.css("marginTop");removeUnit(wrapper.css("marginLeft"));"left"==t?i=-$(window).width()+($(window).width()-r)/2:"right"==t&&(i=$(window).width()+($(window).width()-r)/2);var m=a.attr("src"),d=a.attr("alt"),c=$("<li><img/></li>");c.find("img").attr("src",m),c.find("img").attr("alt",d),c.addClass("bg-photo-frame-dammy-list").addClass("bg-photo-frame-dammy-"+t),c.css({width:"100%",position:"absolute",listStyle:"none"}),c.find("img").css({width:r+"px",height:o+"px",marginTop:s,marginLeft:i*(n+1)+"px"}),dammyElement.append(c)}var defaluts={suffle:!1,width:"100%",height:"auto",minHeight:"none",maxHeight:"none",autoChange:!0,autoTimer:4e3,interfaceTimer:!0,fadeSpeed:1e3,shuffle:!1,gradationColor:"0,0,0",callbackBefore:null,callbackAfter:null,callbackChange:null,photoFrame:!1,stopWhenClicked:!0,contents:"",maskColor:"light",maskOpacity:.7};if(setting=$.extend(defaluts,setting),this.length){var element=this,wrapper,controls,parent=element.parent(),num=element.find("li").length,imgInfo=[],current=0,previous=0,timer=[],device=userAgent(),loaded=!1,breakPoint=782,btnEnable=!0,clicked=!1,prefix="bg-photo-frame",easing="easeOutCubic",fadeTime=1e3;if(setting.callbackBefore&&window[setting.callbackBefore].apply(),element.find("li").length){if(element.wrap("<div id='bg-photo-frame-images-wrapper'></div>"),wrapper=$("#bg-photo-frame-images-wrapper"),$("body").prepend("<div id='bg-photo-frame-controls'></div>"),controls=$("#bg-photo-frame-controls"),element.css({margin:"0px",padding:"0px"}),wrapper.css({opacity:"1.0"}),"auto"!=setting.height&&element.css({height:setting.height+"px"}),element.find("li").css({position:"absolute",listStyle:"none",display:"none",overflow:"hidden"}),element.find("img").css({maxWidth:"none"}),"100%"==setting.width?(element.find("li").css({width:"100%"}),element.find("img").css({width:"100%"})):"auto"!=setting.width&&element.find("img").css({width:setting.width+"px"}),setting.shuffle){var shuffleElement=element.html().split("</li>");shuffleElement.splice(shuffleElement.length-1);for(var i=shuffleElement.length-1;i>=0;i--){var r=Math.floor(i*Math.random()),tmp=shuffleElement[i];shuffleElement[i]=shuffleElement[r],shuffleElement[r]=tmp}element.empty();for(var i=0;i<shuffleElement.length;i++)element.append(shuffleElement[i])}for(var i=0;i<element.find("img").length;i++){var img=element.find("img").eq(i),src=img.attr("src");imgInfo.push({loaded:!1,src:src,width:0,height:0,retio:0,source:null})}var resize=[],photoAnimeTime=1e3,photoAnimeEasing="easeOutQuad";resize.setResizeEvent=function(){$(window).resize(function(){for(var e=0;e<element.find("li").length;e++)resizeImages(e)});for(var e=0;e<element.find("li").length;e++)resizeImages(e)};var mask=[],maskElement;mask.showMask=function(){maskElement.stop(!0,!1).fadeTo(fadeTime,1)},mask.hideMask=function(){maskElement.stop(!0,!1).fadeTo(fadeTime,0)},initMask(),$(window).resize(function(){resizeMask()}),resizeMask();var contentFadeTime=500,currentMode="background",mode=[];mode.modeChange=function(){stopModeChangeAnimation(),"background"==currentMode?photoFrameMode():"photoframe"==currentMode&&backgroundMode()};var toggleBtnId=prefix+"-toggle",iconClassPhotoFrame="glyphicon-picture",iconClassBlog="glyphicon-list-alt",toggleButtonSrc='<a href="#" id="'+toggleBtnId+'" class="'+prefix+'-btn"　name="Switch Mode"><span class="glyphicon glyphicon-picture"></span></a>',toggleButton;setting.photoFrame&&initToggle();var nav,prev,next,navClicked=!1,navPrefix=prefix+"-nav";setting.photoFrame&&initNav();var thumbPage,thumbBtn,thumbPrefix=prefix+"-thumb",thumbPageClass=thumbPrefix+"-thumbs",thumbBtnClass=thumbPrefix+"-btn",thumbTime=500;setting.photoFrame&&(initThumbs(),$(window).resize(function(){resizeThumbs()}),resizeThumbs());var timer=[],timerArr=[],timerBtn,timerPrefix=prefix+"-timer",timerBtnId=timerPrefix+"-btn";initTimer(),timer.setTimer=function(e,n){timer.disableTimer(),setting.autoChange&&timerBtn.hasClass("on")&&element.find("li").length&&enableTimer()},timer.disableTimer=function(){for(var e=0;e<timerArr.length;e++)clearTimeout(timerArr[e]);timerArr.length=0};for(var i=0;i<element.find("img").length;i++){var img=this.find("img").eq(i),imgSrc=img.attr("src"),loadImg=$(new Image);loadImg.attr("id",i),loadImg.bind("load",function(){var e=$(this).attr("id"),n=$(this).attr("src");imgInfo[e].loaded=!0,setImageSize(e),attachThumbImage(e,n),checkLoadComplete()}),loadImg.attr("src",imgSrc)}var commandProcess=[],interface=!1;commandProcess.loaded=function(){transition.showFirstImage(),resize.setResizeEvent(),timer.setTimer(),setting.callbackAfter&&window[setting.callbackAfter].apply()},commandProcess.modeChange=function(){btnEnable&&(btnEnable=!1,mode.modeChange(),"photoframe"==currentMode?mask.hideMask():"background"==currentMode&&(hideInterface(),disableTimerInterface()),timer.disableTimer())},commandProcess.modeChangeEnd=function(){"photoframe"==currentMode?(showInterface(),enableTimerInterface()):(timerOn(),mask.showMask()),timer.setTimer(),btnEnable=!0},commandProcess.imgChange=function(e){timer.disableTimer();var n=change.getChangeNum(e);dammy.removeDammy(),"next"==e||"prev"==e||"current"==e?(dammy.setDammy(n,e),transition.transition(n,"swipe",e)):transition.transition(n,"fade"),previous=current,current=n,removeTimerInterface(),setTimerInterface()},commandProcess.setSwipeImage=function(e){resizeImages(e,!1,!0)},commandProcess.setDammy=function(e){resizeImages(e,!1,!0)},commandProcess.swipeDown=function(){dammy.removeDammy(),dammy.setDammy(current,"current"),timer.disableTimer(),removeTimerInterface(),setTimerInterface()},commandProcess.swipeUp=function(){timer.setTimer()},commandProcess.swipeEnd=function(){dammy.removeDammy()},commandProcess.transitionEnd=function(){timer.setTimer()},commandProcess.timerChange=function(){var e=change.getChangeNum("next");transition.transition(e,"fade"),current=e};var interfaceTimer=[],change=[];change.getChangeNum=function(e){var n;return n=isNaN(e)?changeType[e]():changeType.num(e)};var changeType=[];changeType.next=function(){var e;return e=current==element.find("li").length-1?0:parseInt(current)+1},changeType.prev=function(){var e;return e=0==current?element.find("li").length-1:parseInt(current)-1},changeType.current=function(){return current},changeType.num=function(e){return e},transition=[],transitionMode="fade",transition.showFirstImage=function(){for(var e=0;e<element.find("li").length;e++){var n=element.find("li").eq(e);0==e?(n.fadeIn(setting.fadeSpeed),resizeImages(e)):n.hide()}element.show()},transition.transition=function(e,n,t){transitionStop(),"fade"==n?fade.transitionFade(e):"swipe"==n&&swipe.transitionSwipe(e,t)};var fade=[];fade.transitionFade=function(e){for(var n=element.find("li").length,t=0;n>t;t++){var i=element.find("li").eq(t);i.stop(!0,!1),e==t?(i.css({marginLeft:0}),e!=current&&("none"==i.css("display")?i.fadeIn(setting.fadeSpeed,function(){transitionFadeEnd()}):i.fadeTo(setting.fadeSpeed,1,function(){transitionFadeEnd()}),resizeImages(t))):i.fadeOut(setting.fadeSpeed)}transitionFadeEnd()};var swipe=[],swipeSpeed=2e3,swipeAnmation=!1,currentSwipeNum=0,nextSwipeNum=0,swipeSpeedLimit=5,swipeSpeedTimerSpan=100;swipe.transitionSwipe=function(e,n){swipeAnmation||(currentSwipeNum=parseInt(current)),swipeLoopStop(),swipeLoop(e,n)};var swipeActive,swipeActiveStart,swipeActiveCurrent,swipeStartMargin,swipeDistance,swipeSpeed,swipeSpeedStart,swipeSpeedCurrent,swipeSpeedTimer=[];"pc"==device?(maskElement.mousedown(function(e){swipeDown(e.pageX)}),$(window).mousemove(function(e){swipeMove(e.pageX)}),$(window).mouseup(function(e){swipeUp(e.pageX)})):(maskElement.bind("touchstart",function(){swipeDown(event.changedTouches[0].pageX)}),$(window).bind("touchmove",function(){swipeMove(event.changedTouches[0].pageX)}),$(window).bind("touchend",function(){swipeUp(event.changedTouches[0].pageX)}));var dammy=[],dammyElement;dammy.setDammy=function(e,n){dammyElement.find("li").remove();var t,i;t=-$(window).width(),i=$(window).width();var a=removeUnit(wrapper.css("marginLeft"));e=parseInt(e);var r,o=1,s=1;if(a>0?o=Math.floor((a+$(window).width())/$(window).width())+1:0>a&&(s=Math.floor(-(a-$(window).width())/$(window).width())+1),r=e,"next"==n||"current"==n)for(var m=0;o>m;m++){var d;d=0==r?element.find("li").length-1:r-1,dammyShow(d,m,"left"),r=d}if("prev"==n||"current"==n){r=e;for(var m=0;s>m;m++){var c;c=r==element.find("li").length-1?0:r+1,dammyShow(c,m,"right"),r=c}}dammyElement.css("display","block")},dammy.removeDammy=function(){dammyElement.find("li").remove()},initDammy()}}}}(jQuery),jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(e,n,t,i,a){return jQuery.easing[jQuery.easing.def](e,n,t,i,a)},easeInQuad:function(e,n,t,i,a){return i*(n/=a)*n+t},easeOutQuad:function(e,n,t,i,a){return-i*(n/=a)*(n-2)+t},easeInOutQuad:function(e,n,t,i,a){return(n/=a/2)<1?i/2*n*n+t:-i/2*(--n*(n-2)-1)+t},easeInCubic:function(e,n,t,i,a){return i*(n/=a)*n*n+t},easeOutCubic:function(e,n,t,i,a){return i*((n=n/a-1)*n*n+1)+t},easeInOutCubic:function(e,n,t,i,a){return(n/=a/2)<1?i/2*n*n*n+t:i/2*((n-=2)*n*n+2)+t},easeInQuart:function(e,n,t,i,a){return i*(n/=a)*n*n*n+t},easeOutQuart:function(e,n,t,i,a){return-i*((n=n/a-1)*n*n*n-1)+t},easeInOutQuart:function(e,n,t,i,a){return(n/=a/2)<1?i/2*n*n*n*n+t:-i/2*((n-=2)*n*n*n-2)+t},easeInQuint:function(e,n,t,i,a){return i*(n/=a)*n*n*n*n+t},easeOutQuint:function(e,n,t,i,a){return i*((n=n/a-1)*n*n*n*n+1)+t},easeInOutQuint:function(e,n,t,i,a){return(n/=a/2)<1?i/2*n*n*n*n*n+t:i/2*((n-=2)*n*n*n*n+2)+t},easeInSine:function(e,n,t,i,a){return-i*Math.cos(n/a*(Math.PI/2))+i+t},easeOutSine:function(e,n,t,i,a){return i*Math.sin(n/a*(Math.PI/2))+t},easeInOutSine:function(e,n,t,i,a){return-i/2*(Math.cos(Math.PI*n/a)-1)+t},easeInExpo:function(e,n,t,i,a){return 0==n?t:i*Math.pow(2,10*(n/a-1))+t},easeOutExpo:function(e,n,t,i,a){return n==a?t+i:i*(-Math.pow(2,-10*n/a)+1)+t},easeInOutExpo:function(e,n,t,i,a){return 0==n?t:n==a?t+i:(n/=a/2)<1?i/2*Math.pow(2,10*(n-1))+t:i/2*(-Math.pow(2,-10*--n)+2)+t},easeInCirc:function(e,n,t,i,a){return-i*(Math.sqrt(1-(n/=a)*n)-1)+t},easeOutCirc:function(e,n,t,i,a){return i*Math.sqrt(1-(n=n/a-1)*n)+t},easeInOutCirc:function(e,n,t,i,a){return(n/=a/2)<1?-i/2*(Math.sqrt(1-n*n)-1)+t:i/2*(Math.sqrt(1-(n-=2)*n)+1)+t},easeInElastic:function(e,n,t,i,a){var r=1.70158,o=0,s=i;if(0==n)return t;if(1==(n/=a))return t+i;if(o||(o=.3*a),s<Math.abs(i)){s=i;var r=o/4}else var r=o/(2*Math.PI)*Math.asin(i/s);return-(s*Math.pow(2,10*(n-=1))*Math.sin((n*a-r)*(2*Math.PI)/o))+t},easeOutElastic:function(e,n,t,i,a){var r=1.70158,o=0,s=i;if(0==n)return t;if(1==(n/=a))return t+i;if(o||(o=.3*a),s<Math.abs(i)){s=i;var r=o/4}else var r=o/(2*Math.PI)*Math.asin(i/s);return s*Math.pow(2,-10*n)*Math.sin((n*a-r)*(2*Math.PI)/o)+i+t},easeInOutElastic:function(e,n,t,i,a){var r=1.70158,o=0,s=i;if(0==n)return t;if(2==(n/=a/2))return t+i;if(o||(o=a*(.3*1.5)),s<Math.abs(i)){s=i;var r=o/4}else var r=o/(2*Math.PI)*Math.asin(i/s);return 1>n?-.5*(s*Math.pow(2,10*(n-=1))*Math.sin((n*a-r)*(2*Math.PI)/o))+t:s*Math.pow(2,-10*(n-=1))*Math.sin((n*a-r)*(2*Math.PI)/o)*.5+i+t},easeInBack:function(e,n,t,i,a,r){return void 0==r&&(r=1.70158),i*(n/=a)*n*((r+1)*n-r)+t},easeOutBack:function(e,n,t,i,a,r){return void 0==r&&(r=1.70158),i*((n=n/a-1)*n*((r+1)*n+r)+1)+t},easeInOutBack:function(e,n,t,i,a,r){return void 0==r&&(r=1.70158),(n/=a/2)<1?i/2*(n*n*(((r*=1.525)+1)*n-r))+t:i/2*((n-=2)*n*(((r*=1.525)+1)*n+r)+2)+t},easeInBounce:function(e,n,t,i,a){return i-jQuery.easing.easeOutBounce(e,a-n,0,i,a)+t},easeOutBounce:function(e,n,t,i,a){return(n/=a)<1/2.75?i*(7.5625*n*n)+t:2/2.75>n?i*(7.5625*(n-=1.5/2.75)*n+.75)+t:2.5/2.75>n?i*(7.5625*(n-=2.25/2.75)*n+.9375)+t:i*(7.5625*(n-=2.625/2.75)*n+.984375)+t},easeInOutBounce:function(e,n,t,i,a){return a/2>n?.5*jQuery.easing.easeInBounce(e,2*n,0,i,a)+t:.5*jQuery.easing.easeOutBounce(e,2*n-a,0,i,a)+.5*i+t}});